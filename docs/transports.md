# トランスポート層 (メッセージ配信)

トランスポート層 (Transports) は、エージェントからクライアントへA2UIメッセージを配信します。A2UIは特定の転送方式に依存しない (transport-agnostic) ため、JSONを送信できるあらゆる方法を使用できます。

実際のコンポーネントのレンダリングは[レンダラー (renderer)](renderers.md)で行われ、[エージェント](agents.md)はA2UIメッセージを生成する役割を担います。エージェントからクライアントへメッセージを配信するのが、トランスポート層の役割です。

## 仕組み

```
エージェント → トランスポート層 → クライアントレンダラー
```

A2UIは順次的なJSONメッセージのシーケンスを定義します。トランスポート層は、このシーケンスをエージェントからクライアントへ配信する責任を負います。一般的な転送メカニズムは、JSON Lines (JSONL) のような形式を使用したストリームであり、各行が1つのA2UIメッセージとなります。

## 利用可能なトランスポート方式

| トランスポート方式 | ステータス | ユースケース |
|-----------|--------|----------|
| **A2Aプロトコル** | ✅ 安定(Stable) | マルチエージェントシステム、エンタープライズメッシュ (Mesh) |
| **AG UI** | ✅ 安定(Stable) | フルスタックReactアプリケーション |
| **REST API** | 📋 計画中 | 単純なHTTPエンドポイント |
| **WebSockets** | 💡 提案中 | リアルタイム双方向通信 |
| **SSE (Server-Sent Events)** | 💡 提案中 | Webストリーミング |

## A2Aプロトコル

[エージェント対エージェント (A2A) プロトコル](https://a2a-protocol.org) は、安全で標準化されたエージェント間通信を提供します。A2A拡張を介してA2UIと簡単に統合できます。

**長所：**

- 組み込みのセキュリティと認証機能
- さまざまなメッセージ形式、認証、および転送プロトコルへのバインディングのサポート
- 関心の明確な分離

A2Aを使用している場合、このプロセスはほぼ自動的に行われます。

TODO：詳細ガイド追加予定

**参照：** [A2A拡張仕様](../specification/v0.8-a2a-extension.md)

## AG UI

[AG UI](https://ag-ui.com/) は A2UI メッセージを AG UI メッセージに変換し、配信と状態同期を自動的に処理します。

AG UIを使用している場合、このプロセスは自動的に行われます。

TODO：詳細ガイド追加予定

## カスタムトランスポートの構築

JSONを送信できるあらゆる方式を使用できます：

**HTTP/REST:**

```javascript
// TODO: 例を追加予定
```

**WebSockets:**

```javascript
// TODO: 例を追加予定
```

**Server-Sent Events:**

```javascript
// TODO: 例を追加予定
```

## 次のステップ

- **[A2Aプロトコルドキュメント](https://a2a-protocol.org)**：A2Aについて詳しく知る
- **[A2A拡張仕様](../specification/v0.8-a2a-extension.md)**：A2UI + A2Aの詳細
